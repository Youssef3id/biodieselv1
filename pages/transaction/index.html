<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BioDiesel-Transaction</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="transf_style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="icon" type="image/png" href="/assets/icons/biologo.svg" />
    <script src="transfjs_js.js"></script>
</head>

<body>
    <div class="layout-wrapper">
        <aside class="sidebar d-none d-lg-flex">
            <div class="sidebar-header d-flex align-items-center p-4">
                <img src="/assets/icons/biologo.svg" alt="Logo" style="height: 36px" />
                <span class="ms-2 fs-4 fw-bold">BioDiesel.</span>
            </div>
            <nav class="nav flex-column p-3 flex-grow-1">
                <a class="nav-link" href="../../php/dashboard.php"><i class="fas fa-home fa-fw"></i>Dashboard</a>
                <a class="nav-link active" href="../transaction/index.html"><i class="fas fa-exchange-alt fa-fw"></i>Transactions</a>
                <a class="nav-link" href="../accounts-clients/index.html"><i class="fas fa-wallet fa-fw"></i>Accounts</a>
                <a class="nav-link" href="../investments/index.html"><i class="fas fa-chart-line fa-fw"></i>Investments</a>
                <a class="nav-link" href="../credit-cards/index.html"><i class="far fa-credit-card fa-fw"></i>Credit Cards</a>
                <a class="nav-link" href="../loans/index.html"><i class="fas fa-hand-holding-usd fa-fw"></i>Loans</a>
                <a class="nav-link" href="../services/index.html"><i class="fas fa-wrench fa-fw"></i>Services</a>
                <a class="nav-link" href="#"><i class="fas fa-crown fa-fw"></i>My Privileges</a>
            </nav>
            <div class="p-3">
                <a class="nav-link" href="/pages/setting/edit-profile.html"><i class="fas fa-cog fa-fw"></i>Settings</a>
            </div>
        </aside>

    <!-- Main Content -->
    <div class="flex-grow-1 d-flex flex-column main-content">
      <header class="dashboard-header p-3">
        <div class="d-flex justify-content-between align-items-center">
          <div class="d-flex align-items-center">
            <button class="btn d-md-none me-3 p-0 fs-3 text-success" type="button" data-bs-toggle="offcanvas"
              data-bs-target="#mobile-menu">
              <i class="fas fa-bars"></i>
            </button>
            <h2 class="mb-0 fw-bold d-none d-md-block">Overview</h2>
          </div>
          <div class="d-flex align-items-center gap-3">
            <div class="position-relative" style="width: 300px">
              <i class="fas fa-search search-icon-inside"></i>
              <input type="text" class="form-control search-input ps-5 py-2" placeholder="Search for something" />
            </div>
            <div class="d-flex align-items-center gap-2">
              <div class="icon-wrapper bg-light-pink">
                <i class="fa-regular fa-bell fa-lg" style="color: #fe5c73"></i>
              </div>
              <div class="icon-wrapper bg-light-green">
                <i class="fa-solid fa-gear" style="color: #0daf25"></i>
              </div>
            </div>

            <!-- User Avatar -->
            <div class="dropdown">
              <a href="#" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="https://i.pravatar.cc/40" alt="User" class="rounded-circle user-img" width="45" height="45" />
              </a>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                <li>
                  <a class="dropdown-item text-danger" href="../php/logout.php">Logout</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </header>

            <div class="offcanvas offcanvas-start" tabindex="-1" id="mobile-menu">
                <div class="offcanvas-header border-bottom">
                    <a href="#" class="d-flex align-items-center text-decoration-none text-dark">
                        <img src="/assets/icons/biologo.svg" alt="Logo" style="height: 36px" />
                        <span class="ms-2 fs-4 fw-bold">BioDiesel.</span>
                    </a>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
                </div>
                <div class="offcanvas-body">
                    <nav class="nav flex-column">
                <a class="nav-link" href="../../php/dashboard.php"><i class="fas fa-home fa-fw"></i>Dashboard</a>
                <a class="nav-link active" href="../transaction/index.html"><i class="fas fa-exchange-alt fa-fw"></i>Transactions</a>
                <a class="nav-link" href="../accounts-clients/index.html"><i class="fas fa-wallet fa-fw"></i>Accounts</a>
                <a class="nav-link" href="../investments/index.html"><i class="fas fa-chart-line fa-fw"></i>Investments</a>
                <a class="nav-link" href="../credit-cards/index.html"><i class="far fa-credit-card fa-fw"></i>Credit Cards</a>
                <a class="nav-link" href="../loans/index.html"><i class="fas fa-hand-holding-usd fa-fw"></i>Loans</a>
                <a class="nav-link" href="../services/index.html"><i class="fas fa-wrench fa-fw"></i>Services</a>
                        <a class="nav-link" href="#"><i class="fas fa-crown fa-fw"></i>My Privileges</a>
                    </nav>
                    <div class="sidebar-settings-link mt-3">
                        <a class="nav-link sidebar-link" href="/pages/setting/edit-profile.html"><i
                                class="fas fa-cog"></i>Settings</a>
                    </div>
                </div>
            </div>

            <div class="container-fluid py-4 px-4">
                <div class="row mb-3">
                    <div class="col-lg-8 d-flex align-items-center">
                        <h4 class="fw-bold mb-0 me-4">My Cards</h4>
                        <a href="add-card-form" class="text-decoration-none fw-bold add-card-link d-none d-sm-block">
                            <i class="fas fa-plus me-1"></i> Add Card
                        </a>
                        <a href="#" class="text-decoration-none fw-bold add-card-link d-none d-sm-block m-md-4" data-bs-toggle="modal" data-bs-target="#newTransactionModal">
                            <i class="fas fa-plus me-1"></i> New Transaction
                        </a>
                    </div>
                    <div class="col-lg-4 text-lg-start mt-2 mt-lg-0">
                        <h4 class="fw-bold mb-0">My Expense</h4>
                    </div>
                </div>
                
                <!-- New Transaction Modal -->
                <div class="modal fade" id="newTransactionModal" tabindex="-1" aria-labelledby="newTransactionModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="newTransactionModalLabel">Add New Transaction</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div id="transactionError" class="alert alert-danger d-none"></div>
                                <div id="transactionSuccess" class="alert alert-success d-none"></div>
                                <form id="newTransactionForm">
                                    <div class="mb-3">
                                        <label for="customerName" class="form-label">Customer Name</label>
                                        <input type="text" class="form-control" id="customerName" name="customer_name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="transactionType" class="form-label">Type</label>
                                        <select class="form-select" id="transactionType" name="type" required>
                                            <option value="">Select Type</option>
                                            <option value="Refill">Refill</option>
                                            <option value="Subscribe">Subscribe</option>
                                            <option value="Service">Service</option>
                                            <option value="Card">Card</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="amount" class="form-label">Amount</label>
                                        <input type="number" class="form-control" id="amount" name="amount" step="0.01" min="0.01" required>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-success" id="submitTransaction">Add Transaction</button>
                            </div>
                        </div>
                    </div>
                </div>

               <div class="row g-4 mb-4">
                    <div class="col-lg-8">
                        <div class="cards-container">
                            <div class="credit-card credit-card-green p-4 text-white rounded-3 shadow-sm">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <small>Balance</small>
                                        <h5 class="fw-bold">$5,756</h5>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between mt-4">
                                    <div>
                                        <small>CARD HOLDER</small>
                                        <div class="fw-bold">Eddy Cusuma</div>
                                    </div>
                                    <div>
                                        <small>VALID THRU</small>
                                        <div class="fw-bold">12/22</div>
                                    </div>
                                </div>
                                <div class="mt-3 d-flex justify-content-between align-items-center">
                                    <div class="card-number">3778 **** **** 1234</div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" role="switch" id="cardSwitch1"
                                            checked />
                                    </div>
                                </div>
                            </div>
                            <div class="credit-card credit-card-white p-4 rounded-3 shadow-sm">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <small class="text-muted">Balance</small>
                                        <h5 class="fw-bold text-dark">$5,756</h5>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between mt-4">
                                    <div>
                                        <small class="text-muted">CARD HOLDER</small>
                                        <div class="fw-bold text-dark">Eddy Cusuma</div>
                                    </div>
                                    <div>
                                        <small class="text-muted">VALID THRU</small>
                                        <div class="fw-bold text-dark">12/22</div>
                                    </div>
                                </div>
                                <div class="mt-3 d-flex justify-content-between align-items-center">
                                    <div class="card-number text-secondary">
                                        3778 **** **** 1234
                                    </div>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" role="switch"
                                            id="cardSwitch2" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="bg-white border rounded-3 p-3 shadow-sm h-100">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <div></div>
                                <div class="text-end text-dark fw-bold fs-5">$12,500</div>
                            </div>
                            <div class="p-3" style="height: 200px">
                                <canvas id="expenseChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <h4 class="fw-bold mb-3">Recent Transactions</h4>
                <div class="bg-white border rounded-3 shadow-sm p-4">
                    <ul class="nav nav-tabs mb-3" id="transactionTabs" role="tablist">
                        <li class="nav-item">
                            <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all"
                                type="button">
                                All Transactions
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="income-tab" data-bs-toggle="tab" data-bs-target="#income"
                                type="button">
                                Income
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="expense-tab" data-bs-toggle="tab" data-bs-target="#expense"
                                type="button">
                                Expense
                            </button>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="all">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th style="width: 5%"></th>
                                            <th>Customer Name</th>
                                            <th>Transaction ID</th>
                                            <th>Type</th>
                                            <th>Card</th>
                                            <th>Date</th>
                                            <th>Amount</th>
                                            <th class="text-center">Receipt</th>
                                        </tr>
                                    </thead>
                                    <tbody id="transactionTableBody">
                                        <!-- Transaction data will be loaded here by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                           
                        </div>
                        <div class="tab-pane fade" id="income">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th style="width: 5%;"></th>
                                            <th>Customer Name</th>
                                            <th>Transaction ID</th>
                                            <th>Type</th>
                                            <th>Card</th>
                                            <th>Date</th>
                                            <th>Amount</th>
                                            <th class="text-center">Receipt</th>
                                        </tr>
                                    </thead>
                                    <tbody id="incomeTableBody">
                                        <!-- Income transaction data will be loaded here by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                           
                        </div>
                        <div class="tab-pane fade" id="expense">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th style="width: 5%;"></th>
                                            <th>Customer Name</th>
                                            <th>Transaction ID</th>
                                            <th>Type</th>
                                            <th>Card</th>
                                            <th>Date</th>
                                            <th>Amount</th>
                                            <th class="text-center">Receipt</th>
                                        </tr>
                                    </thead>
                                    <tbody id="expenseTableBody">
                                        <!-- Expense transaction data will be loaded here by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="transfjs_js.js"></script>
</body>

</html>